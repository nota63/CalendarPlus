{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="{% static 'organizations/script.js' %}"></script>

   <!-- Google Fonts and Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>My Page</title>

</head>
<body>

    <style>



    </style>



    <header>
        <h3>{{organization.name}}</h3>
    </header>


<!-- -------------------------------------------------------------------------------------------------------- -->



<section>

    <strong>
        Signed in as {{ user.username }}
        {% if profile.profile_picture %}
            <br>
            <img src="{{ profile.profile_picture.url }}" alt="Profile Picture" class="w-12 h-12 rounded-full" />
        {% endif %}
    </strong>
    

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateIconModal">
        Update Workspace Icon
    </button>

    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateStatusModal">
        Update Organization Status
    </button>

    <!-- Button to trigger profile edit modal -->
     <!-- Button to trigger profile edit modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editProfileModal">
    Accounts & Profile
</button>


    





</section>

















<!-- -------------------------------------------------------------------------------------------------- -->

<!-- Update workspace icon  -->

<div class="modal fade" id="updateIconModal" tabindex="-1" aria-labelledby="updateIconModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updateIconModalLabel">Update Workspace Icon</h5>
                <p>
                    Workspace icon guidelines
Your workspace icon is a way for you to visually identify the Django workspace. It’s used in the desktop and mobile apps, as well as on your workspace admin site. It’s most helpful when you’re active on multiple Slack workspaces.

Some tips on choosing a good icon:

Use a solid background colour.
Use a graphical logo or image rather than text.
Leave some space around your icon.
Upload an image that is 132 px square or larger.
                </p>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="updateIconForm">
                    <div class="mb-3">
                        <label for="workspaceIcon" class="form-label">Choose an Image</label>
                        <input type="file" class="form-control" id="workspaceIcon" accept="image/*" required>
                    </div>
                    <button type="submit" class="btn btn-success">Upload</button>
                </form>
                <div id="iconPreview" class="mt-3 text-center">
                    {% if organization.icon %}
                       <img id="currentIcon" src="{{ organization.icon.url }}" alt="Workspace Icon" class="img-fluid rounded" style="max-width: 100px;">
                    {% endif %}   
                </div>
            </div>
        </div>
    </div>
</div>


<!-- UPDATE WORKSPACE STATUS -->

<div class="modal fade" id="updateStatusModal" tabindex="-1" aria-labelledby="updateStatusModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updateStatusModalLabel">Update Organization Status</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="updateStatusForm">
                    <label for="statusSelect" class="form-label">Select Status</label>
                    <select class="form-select" id="statusSelect">
                        <option value="working_remotely">Working Remotely</option>
                        <option value="in_a_meeting">In A Meeting</option>
                        <option value="off_sick">Off Sick</option>
                        <option value="on_holiday">On Holiday</option>
                    </select>
                    <div class="mt-3">
                        <button type="submit" class="btn btn-success">Update</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<!-- Profile Edit Modal -->

<!-- Profile Edit Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editProfileForm">
                    <!-- Full Name -->
                    <div class="mb-3">
                        <label for="full_name" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="full_name" required>
                    </div>
                    <!-- Profile Picture Preview -->
                    <div class="mb-3">
                        <label for="profile_picture" class="form-label">Profile Picture</label>
                        <input type="file" class="form-control" id="profile_picture">
                        <div id="profile_picture_preview" class="mt-3">
                            <img id="profile_picture_img" src="" alt="Profile Picture Preview" style="max-width: 100px; max-height: 100px;" />
                        </div>
                    </div>
                    <!-- Email -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>

                    <div>
                        <strong>Time Zone</strong>
                        <p>
                            Calendar Plus uses your time zone to send summary and notification emails, for times in your activity feeds and for reminders. Your time zone is currently set to: (UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi.
                        </p>
                    </div>
                    <br>
                    <div>
                        <strong>
                            Sign out of all other sessions
                        </strong>
                        <p>
                            Lost your phone? Left yourself logged in on a public computer? Need a way to sign out from everywhere except your current browser? Then this is for you.
                            <a href="{% url 'logout' %}">
                                <button type="submit" class="btn btn-primary">
                                    Sign out of all other sessions
                                </button>
                            </a>
                        </p>
                    </div>

                    <div>
                        <strong>
                            Deactivate Account!
                        </strong>
                        <p>
                            You’re the primary owner of {{organization.name}}, so you can’t deactivate your account
                        </p>
                        <p>
                            You can <a href="#">Transfer Ownership</a>to another member or <a href="#">
                                Delete the workspace
                            </a>
                        </p>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
            </div>
        </div>
    </div>
</div>







<!-- ===================================================================================================== -->

<!-- Bootstrap 5 JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const organizationId = "{{ organization.id }}";

</script>





</body>
</html>
