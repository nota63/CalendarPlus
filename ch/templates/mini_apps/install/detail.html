{% extends "custom.html" %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8 p-6 bg-white shadow-lg rounded-lg">
    <!-- App Icon & Name -->
    <div class="flex items-center space-x-4">
        <img src="{{ app.icon.url }}" alt="{{ app.name }}" class="w-20 h-20 rounded-lg">
        <div>
            <h2 class="text-2xl font-bold">{{ app.name }}</h2>
            <p class="text-gray-500">{{ app.category|title }}</p>
        </div>
    </div>

    <!-- Premium Badge -->
    {% if app.is_premium %}
        <span class="mt-3 inline-block bg-yellow-500 text-white px-3 py-1 text-sm rounded-md">Premium</span>
    {% endif %}

    <!-- Description -->
    <p class="mt-4 text-gray-700">{{ app.description }}</p>

    <!-- App Details -->
    <div class="grid grid-cols-2 gap-4 mt-6">
        <div><strong>ðŸ“Œ Developer:</strong> {{ app.developer }}</div>
        <div><strong>ðŸ›  Version:</strong> {{ app.version }}</div>
        <div><strong>ðŸ“¦ Size:</strong> {{ app.size }}</div>
        <div><strong>ðŸ”¥ Installs:</strong> {{ app.install_count }}</div>
        <div><strong>ðŸ•’ Created:</strong> {{ app.created_at|date:"M d, Y" }}</div>
        <div><strong>ðŸ”„ Updated:</strong> {{ app.updated_at|date:"M d, Y" }}</div>
        <div class="alert">
            <strong>Note : This App Requires {{app.requirements}} To Run</strong>
        </div>
        
        <div class="install-location">
            <strong>It will be installed in {{organization.name}}</strong>
        </div>

    </div>

    <!-- Commands Section -->
    <div class="mt-6">
        <h3 class="text-lg font-bold">âš¡ Available Commands:</h3>
        <ul class="list-disc pl-6 text-gray-700">
            {% for command in app.commands %}
                <li><code class="bg-gray-200 px-2 py-1 rounded">{{ command }}</code></li>
            {% empty %}
                <li>No commands available.</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Install Button -->
    <div class="mt-6">
        <button class="bg-blue-600 text-white px-6 py-2 rounded-lg shadow-md hover:bg-blue-700">Install</button>
    </div>

    <div class="related-images">
        {% if app.related_imagess.all %}
            <ul>
                {% for image in app.related_imagess.all %}
                    <li><a href="{{ image.image.url }}"><img src="{{ image.image.url }}" alt="Mini App Image" width="100"></a></li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    
    
</div>
{% endblock %}
