<div id="availability-heatmap-widget" class="p-4 bg-white rounded-xl shadow-sm border border-gray-200 relative">
    <!-- Widget Header -->
    <div class="flex justify-between items-center mb-4 pb-3 border-b border-gray-100">
      <div class="flex items-center">
        <div class="mr-2 bg-indigo-100 p-1.5 rounded-lg">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-base font-medium text-gray-800">Team Availability Heatmap</h3>
      </div>
      
      <!-- Action Buttons -->
      <div class="flex gap-1.5 z-10">
        <button onclick="TeamAvailabilityHeatmap(window.djangoData.orgId)" title="Refresh" 
            class="p-1.5 hover:bg-gray-100 rounded-lg transition-colors flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-30">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-500 hover:text-indigo-600 transition" fill="none"
            viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 4v5h.582m15.406 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m-15.406-2a8.001 8.001 0 0015.406 2m0 0H15" />
          </svg>
        </button>
        
        <button onclick="openFullScreenWidget('availability-heatmap-widget')" title="Fullscreen"
            class="p-1.5 hover:bg-gray-100 rounded-lg transition-colors flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-30">
          <svg class="w-4 h-4 text-gray-500 hover:text-indigo-600 transition" fill="none" stroke="currentColor"
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
              d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
          </svg>
        </button>
        
        <button onclick="takeScreenshot('availability-heatmap-widget')" title="Download Screenshot"
            class="p-1.5 hover:bg-gray-100 rounded-lg transition-colors flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-30">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-500 hover:text-indigo-600 transition" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M3 8l2-2h4l2-2h2l2 2h4l2 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V8z" />
            <circle cx="12" cy="13" r="3" />
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Legend -->
    <div class="flex items-center gap-3 mb-3 text-xs text-gray-600">
      <div class="flex items-center">
        <span class="inline-block w-3 h-3 rounded-sm bg-green-200 mr-1.5"></span>
        <span>Available</span>
      </div>
      <div class="flex items-center">
        <span class="inline-block w-3 h-3 rounded-sm bg-yellow-200 mr-1.5"></span>
        <span>Partial</span>
      </div>
      <div class="flex items-center">
        <span class="inline-block w-3 h-3 rounded-sm bg-red-200 mr-1.5"></span>
        <span>Booked</span>
      </div>
    </div>
    
    <!-- Content area where TeamAvailabilityHeatmap function will inject the content -->
    <div class="bg-gray-50 rounded-lg p-0.5">
      <!-- The JS will inject content here -->
    </div>
  </div>